# 软件测试与质量保证报告

## 后端

### Flask 项目

pytest 覆盖所有后端接口测试，同时使用 requests 库模拟实际调用后端接口的访问

详情可见 [backends/tests](../backends/tests)

### AI Agent

#### **1. 测试范围**

本次测试覆盖后端模块的核心功能，包括：

- 模糊意图识别（`PromptGenerator`, `AIScheduleManager`）
- 创建意图响应（`PromptGenerator`, `AIScheduleManager`）
- 修改意图响应（`PromptGenerator`, `AIScheduleManager`）
- 删除意图响应（`PromptGenerator`, `AIScheduleManager`）
- 查询意图响应（`PromptGenerator`, `AIScheduleManager`）
- 通用对话响应（`PromptGenerator`, `AIScheduleManager`）
- 日程管理（`AIScheduler`, `ScheduleManager`）

#### **2. 测试环境**

- 操作系统：Windows 10
- Python 版本：3.8+
- 主要依赖：`PyQt5`, `requests`, `openai`, `flask`, `pytest`
- 测试方式：单元测试 + 手动交互测试

#### **3. 主要测试用例与结果**

| **测试用例**                                           | **预期结果**                                                 | **实际结果** |
| ------------------------------------------------------ | ------------------------------------------------------------ | ------------ |
| 启动后端服务                                           | 后端服务正常启动，可通过指定地址访问，如 `http://127.0.0.1:5000` | 通过         |
| 获取所有日程（`GET /schedule/`）                       | 返回所有日程数据，且数据格式正确                             | 通过         |
| 创建新日程（`POST /schedule/`）                        | 成功创建新日程，返回新日程 ID 且与实际一致                   | 通过         |
| 根据 ID 获取日程（`GET /schedule/<id>`）               | 存在时返回对应日程数据，不存在时返回 404 错误                | 通过         |
| 更新日程（`PUT /schedule/<id>`）                       | 成功更新日程，返回更新成功信息                               | 通过         |
| 删除日程（`DELETE /schedule/<id>`）                    | 成功删除日程，返回删除成功信息                               | 通过         |
| 归档日程（`GET /schedule/archive/<id>`）               | 成功归档日程，返回归档成功信息                               | 通过         |
| 获取提醒开始时间的日程（`GET /schedule/remind_start`） | 返回符合条件的日程数据                                       | 通过         |
| 获取提前提醒的日程（`GET /schedule/remind_before`）    | 返回符合条件的日程数据                                       | 通过         |
| 同步日程（`GET /schedule/sync`）                       | 成功同步日程数据                                             | 通过         |
| 处理用户请求（创建意图）                               | 正确识别创建意图，创建新日程并返回成功信息                   | 通过         |
| 处理用户请求（修改意图）                               | 正确识别修改意图，修改对应日程并返回成功信息                 | 通过         |
| 处理用户请求（删除意图）                               | 正确识别删除意图，删除对应日程并返回成功信息                 | 通过         |
| 处理用户请求（查询意图）                               | 正确识别查询意图，返回查询到的日程信息                       | 通过         |
| 处理用户请求（通用意图）                               | 正确识别通用意图，返回合适的通用对话响应                     | 通过         |

#### **4. 结论与建议**

- 后端模块主要功能均已通过测试，接口交互正常，数据处理和意图识别功能表现良好。
- 日程管理单例模式有效，数据一致性和操作准确性得到保障。
- 建议后续增加更多自动化测试用例，尤其是针对异常输入和边界条件的测试，如无效的日程数据、错误的 API 请求等。
- 可考虑引入持续集成工具，如 Jenkins 或 GitLab CI/CD，实现代码提交后的自动化测试，提升测试效率和代码质量。

## 前端

### 1. 测试范围

本次测试覆盖前端的核心功能，包括：

- 用户登录与注册。
- 手动创建日程、修改日程。
- 日程统计信息展示。
- 日程卡片展示。
- 日历功能测试。
- AI对话功能测试。

### 2. 测试环境

- 操作系统：Windows 10
- Python版本：3.12
- 主要依赖：Axios,Element Plus
- 测试方式：单元测试+手动交互测试

### 3. 主要测试用例与结果

| 测试用例               | 预期结果                           | 实际结果 |
| ---------------------- | ---------------------------------- | -------- |
| 用户注册并登录         | 返回成功信息并跳转界面             | 通过     |
| 创建日程，随后修改日程 | 返回正确的日程卡片                 | 通过     |
| 日程统计信息展示       | 与当前日程数据相符                 | 通过     |
| 日程卡片展示           | 展示正确的日程内容                 | 通过     |
| 日历功能测试           | 显示正确的日程数量，能正常创建日程 | 通过     |
| AI对话功能测试         | 短时间内返回正确的对话结果         | 通过     |
| AI创建日程测试         | 能创建正确的日程                   | 通过     |

### 4. 结论与建议

- 前端主要功能均已通过测试，界面交互流畅，数据一致性良好。
- 建议后续增加更多自动化测试用例，完善异常场景与边界条件测试。
- 可考虑引入持续集成工具，提升测试自动化水平。

## 桌宠

###  1.测试范围

本次测试覆盖pet模块的核心功能，包括：

- 桌宠UI界面交互（DesktopPetUI）
- 桌宠数据模型（DesktopPet）
- 控制器逻辑（DesktopPetController）
- 日程管理（ScheduleManager）
- 心情与动作管理（Mood, PetAction）
- 右键菜单与动画播放

### 2. 测试环境

- 操作系统：Windows 10
- Python版本：3.8+
- 主要依赖：PyQt5, requests
- 测试方式：单元测试+手动交互测试

### 3. 主要测试用例与结果

| 测试用例       | 预期结果                        | 实际结果 |
| -------------- | ------------------------------- | -------- |
| 启动桌宠主程序 | 桌宠正常显示在桌面              | 通过     |
| 右键菜单显示   | 弹出菜单，含所有功能项          | 通过     |
| 聊天窗口交互   | 可与桌宠对话，触发动画          | 通过     |
| 刷新桌宠状态   | 日程数据刷新，心情同步更新      | 通过     |
| 退出动画播放   | 正确播放动画后退出              | 通过     |
| 日程单例一致性 | 多处调用ScheduleManager数据一致 | 通过     |
| 心情自动切换   | 日程变化时心情自动调整          | 通过     |
| 拖拽与待机动作 | 拖拽、待机动作正常切换          | 通过     |

### 4. 结论与建议

- 桌宠pet模块主要功能均已通过测试，界面交互流畅，数据一致性良好。
- 日程管理单例模式有效，心情与动画联动正常。
- 建议后续增加更多自动化测试用例，完善异常场景与边界条件测试。
- 可考虑引入持续集成工具，提升测试自动化水平。

